version: "3"

services:
  nginx:
    restart: unless-stopped
    image: amihsan/travos-frontend:latest 
    ports:
      - 8080:8080
    env_file:
      - ./frontend/.env
    volumes:
      - ./docker/nginx/templates:/etc/nginx/templates
    depends_on:
      - backend

  backend:
    restart: unless-stopped
    image: amihsan/travos-backend:latest 
    ports:
      - 8000:8000
    env_file:
      - ./backend/.env

# version: "3"

# services:
#   nginx:
#     restart: unless-stopped
#     build:
#       context: .
#       dockerfile: ./docker/nginx/Dockerfile
#     ports:
#       - 8080:8080
#     env_file:
#       - ./frontend/.env
#     volumes:
#       - ./docker/nginx/templates:/etc/nginx/templates
#     depends_on:
#       - backend

#   backend:
#     restart: unless-stopped
#     build:
#       context: .
#       dockerfile: ./docker/backend/Dockerfile
#     ports:
#       - 8000:8000
#     env_file:
#       - ./backend/.env

      
